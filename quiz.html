<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>HTML Quiz</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body{
  margin:0;
  font-family:Arial, sans-serif;
  background:#020617;
  color:#e5e7eb;
}
.quiz-box{
  max-width:600px;
  margin:40px auto;
  background:#0f172a;
  padding:25px;
  border-radius:14px;
}
h2{
  text-align:center;
}
.option{
  background:#020617;
  border:1px solid #1e293b;
  padding:12px;
  margin:10px 0;
  border-radius:10px;
}
button{
  width:100%;
  padding:12px;
  margin-top:15px;
  background:#6366f1;
  border:none;
  color:#fff;
  border-radius:10px;
  font-size:16px;
  cursor:pointer;
}
.result{
  text-align:center;
}
.timer{
  text-align:right;
  color:#facc15;
  font-weight:bold;
}
</style>
</head>

<body>

<div class="quiz-box" id="quiz">
  <div class="timer">Time: <span id="time">30</span>s</div>
  <h2>HTML Quiz</h2>
  <h3 id="question"></h3>
  <div id="options"></div>
  <button onclick="nextQuestion()">Next</button>
</div>

<script>
const questions = [
  {
    q: "HTML ka full form kya hai?",
    options: ["Hyper Text Markup Language","High Text Mark Language","Hyper Tool Markup","None"],
    ans: 0
  },
  {
    q: "HTML tag ka use kis liye hota hai?",
    options: ["Structure","Styling","Logic","Database"],
    ans: 0
  },
  {
    q: "<br> tag ka use kya hai?",
    options: ["Line break","Bold text","Image","Link"],
    ans: 0
  }
];

let index = 0;
let score = 0;
let time = 30;
let timer;

const qEl = document.getElementById("question");
const optEl = document.getElementById("options");
const timeEl = document.getElementById("time");

function loadQuestion(){
  clearInterval(timer);
  time = 30;
  timeEl.innerText = time;

  timer = setInterval(()=>{
    time--;
    timeEl.innerText = time;
    if(time==0) nextQuestion();
  },1000);

  const q = questions[index];
  qEl.innerText = `Q${index+1}. ${q.q}`;
  optEl.innerHTML = "";

  q.options.forEach((opt,i)=>{
    optEl.innerHTML += `
      <label class="option">
        <input type="radio" name="opt" value="${i}"> ${opt}
      </label>
    `;
  });
}

function nextQuestion(){
  clearInterval(timer);
  const selected = document.querySelector('input[name="opt"]:checked');
  if(selected && parseInt(selected.value) === questions[index].ans){
    score++;
  }
  index++;

  if(index < questions.length){
    loadQuestion();
  } else {
    // Quiz complete â†’ Score save + Certificate page
    localStorage.setItem("quizScore", score);
    localStorage.setItem("quizTotal", questions.length);

    // Pass criteria: score >= 2 (modify as needed)
    if(score >= 2){
      window.location.href = "certificate.html";
    } else {
      alert("Quiz completed, but score too low. Back to Dashboard.");
      window.location.href = "student-dashboard.html";
    }
  }
}

loadQuestion();
</script>

</body>
</html>